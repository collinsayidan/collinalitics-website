
@tailwind base;
@tailwind components;
@tailwind utilities;

/* ============================
   Root Variables (shared)
   ============================ */
:root {
  /* Sync with your sticky header height; used by CSS and JS provider */
  --header-offset: 96px;
}

/* ============================
   Smooth scrolling
   (OPTION: keep for non-hash; JS handles hash links with offset)
   ============================ */
html { scroll-behavior: smooth; }

/* ============================
   Layout Utilities
   ============================ */
.container-wrapper { @apply max-w-7xl mx-auto px-4 sm:px-6 lg:px-8; }
.section { @apply py-12 sm:py-16 md:py-20; } /* slightly tighter base on mobile */

/* Safe-area padding (iOS notch) */
@layer utilities {
  .safe-px {
    padding-left: max(1rem, env(safe-area-inset-left));
    padding-right: max(1rem, env(safe-area-inset-right));
  }
}

/* ============================
   Responsive Typography Scale
   ============================ */
@layer utilities {
  .text-h1 { @apply text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold tracking-tight; }
  .text-h2 { @apply text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-semibold tracking-tight; }
  .text-h3 { @apply text-xl sm:text-2xl md:text-3xl font-semibold; }
  .text-h4 { @apply text-lg sm:text-xl md:text-2xl font-semibold; }

  .text-bodylg { @apply text-base sm:text-lg; }
  .text-body   { @apply text-sm sm:text-base; }
  .text-caption{ @apply text-xs sm:text-sm; }
}

.section-title { @apply text-h2 text-collin-navy; }
.section-subtitle { @apply mt-2 text-bodylg text-collin-slate; }

/* ============================
   Cards
   ============================ */
.card { @apply bg-white/90 backdrop-blur border border-gray-200 rounded-xl shadow-sm transition hover:shadow-md; }

/* Responsive padding helper for cards */
@layer utilities {
  .card-pad { @apply p-5 sm:p-6 md:p-8 lg:p-10; }
}

/* ============================
   Buttons
   ============================ */
.cta-primary {
  @apply inline-flex items-center justify-center gap-2 rounded-lg
         bg-collin-teal hover:bg-collin-navy text-white font-semibold
         px-5 py-3 shadow transition;
}
.cta-secondary {
  @apply inline-flex items-center justify-center gap-2 rounded-lg
         bg-white text-collin-teal border border-collin-teal/30 hover:border-collin-teal
         px-5 py-3 shadow-sm transition;
}

@layer utilities {
  /* full width on mobile, auto on larger screens */
  .cta-full { @apply w-full sm:w-auto; }
}

@layer components {
  .ctaConsultation { @apply inline-block bg-collin-teal text-white font-semibold px-7 py-3 rounded-lg shadow-md transition; }
  .ctaConsultation:hover { @apply bg-collin-navy; }
  .ctaConsultation:focus-visible { @apply outline-none ring-2 ring-collin-lightTeal ring-offset-2; }
}

@layer components {
  .cta-footer {
    @apply inline-flex items-center gap-2 rounded-lg bg-white/10 text-white
           px-4 py-2 text-sm font-medium border border-white/20 hover:bg-white/15 transition;
  }
}

/* ============================
   HERO BACKGROUND (NAVY BASE)
   ============================ */
.hero-bg {
  background-color: #0A2540; /* Collinalitics Navy */
  background-image: radial-gradient(circle at center, #0d315a 0%, #0A2540 70%);
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  transition: background-position 0.2s ease-out;
}

/* ============================
   Animated Gradient Blobs
   ============================ */
@keyframes gradientMove {
  0% { transform: translate(0px, 0px) scale(1); }
  50% { transform: translate(40px, -40px) scale(1.1); }
  100% { transform: translate(0px, 0px) scale(1); }
}
.animate-gradientMove { animation: gradientMove 12s ease-in-out infinite; will-change: transform; }

@media (max-width: 640px) {
  .animate-gradientMove { animation-duration: 16s; }
}

/* Respect reduced motion */
@media (prefers-reduced-motion: reduce) {
  .animate-gradientMove { animation: none !important; }
}

/* ============================
   Scroll Offset for Navbar
   ============================ */
section { scroll-margin-top: var(--header-offset, 6rem); }

/* ============================
   Optional Premium Utilities
   ============================ */
.text-gradient { @apply bg-clip-text text-transparent bg-gradient-to-r from-collin-teal to-collin-lightTeal; }
.divider { @apply w-full h-px bg-gray-200 my-8; }

/* A11y helpers */
.sr-only {
  position: absolute !important;
  width: 1px; height: 1px;
  padding: 0; margin: -1px;
  overflow: hidden; clip: rect(0, 0, 0, 0);
  white-space: nowrap; border: 0;
}
.skip-link {
  position: fixed;
  top: 0.5rem; left: 0.5rem;
  z-index: 9999;
  padding: 0.5rem 0.75rem;
  background: #fff; color: #0A2540;
  border-radius: 0.5rem;
  transform: translateY(-120%);
  transition: transform 150ms ease;
  box-shadow: 0 8px 24px rgba(2,12,27,0.12);
}
.skip-link:focus { transform: translateY(0); outline: none; }

/* ============================
   Generic Animations
   ============================ */
@keyframes slide-up {
  from { transform: translateY(20px); opacity: 0; }
  to   { transform: translateY(0);   opacity: 1; }
}
.animate-slide-up { animation: slide-up 0.25s ease-out; will-change: transform, opacity; }

@keyframes bounce {
  0%, 100% { transform: translateY(0); }
  50%      { transform: translateY(-4px); }
}
.animate-bounce { animation: bounce 0.6s infinite; will-change: transform; }

.font-condensed { font-family: var(--font-roboto-condensed), sans-serif; }

/* ============================
   How-We-Work animations
   ============================ */
@layer utilities {
  @keyframes hwwIn {
    0%   { opacity: 0; transform: translateY(16px) scale(0.98) rotate(0deg); }
    60%  { opacity: 1; transform: translateY(0px) scale(1.01) rotate(0deg); }
    100% { opacity: 1; transform: translateY(0px) scale(1)    rotate(0deg); }
  }
  .animate-hww-in {
    animation: hwwIn 600ms ease-out forwards;
    will-change: transform, opacity;
  }
}

@layer utilities {
  /* Navy gradient utility (optional reuse) */
  .bg-collin-navy-gradient { @apply bg-gradient-to-b from-collin-navy to-[#122a40]; }

  /* Squeeze-in (fade + translate + slight overshoot) */
  @keyframes hwwSqueezeIn {
    0%   { opacity: 0; transform: translateY(16px) scale(0.975) rotate(0deg); }
    55%  { opacity: 1; transform: translateY(0px)  scale(1.03)  rotate(0deg); }
    100% { opacity: 1; transform: translateY(0px)  scale(1)     rotate(0deg); }
  }
  .animate-hww-squeeze-in {
    animation: hwwSqueezeIn 600ms cubic-bezier(0.2, 0.65, 0.25, 1) forwards;
    will-change: transform, opacity;
  }

  /* Fade-in utility */
  @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
  .animate-fade-in { animation: fadeIn 800ms ease-out forwards; will-change: opacity; }

  /* Respect reduced motion */
  @media (prefers-reduced-motion: reduce) {
    .animate-hww-squeeze-in, .animate-hww-in, .animate-slide-up, .animate-bounce {
      animation: none !important;
      opacity: 1 !important;
      transform: none !important;
    }
  }
}

/* ============================
   Print Styles (optional)
   ============================ */
@media print {
  .hero-bg, .bg-collin-navy-gradient { background: #fff !important; }
  a { text-decoration: underline; color: #000 !important; }
  .shadow, .shadow-sm, .shadow-md, .shadow-lg, .shadow-xl, .shadow-2xl { box-shadow: none !important; }
}
