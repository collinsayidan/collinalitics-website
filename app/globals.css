@tailwind base;
@tailwind components;
@tailwind utilities;

/* ============================
   Root Variables (shared)
   ============================ */
:root {
  --header-offset: 96px;
}

/* ============================
   Smooth scrolling
   ============================ */
html {
  scroll-behavior: smooth;
}

/* ============================
   Layout Utilities
   ============================ */
.container-wrapper {
  @apply max-w-7xl mx-auto px-4 sm:px-6 lg:px-8;
}

/* IMPORTANT:
   .section is structural only (no padding),
   because you often apply py-* in components.
*/
.section {
  @apply relative;
}

/* Optional consistent padding utility */
@layer utilities {
  .section-pad {
    @apply py-24 sm:py-28 md:py-32;
  }
}

/* Safe-area padding */
@layer utilities {
  .safe-px {
    padding-left: max(1rem, env(safe-area-inset-left));
    padding-right: max(1rem, env(safe-area-inset-right));
  }
}

/* ============================
   Responsive Typography Scale
   ============================ */
@layer utilities {
  .text-h1 {
    @apply text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold tracking-tight leading-[1.05];
  }
  .text-h2 {
    @apply text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-semibold tracking-tight leading-[1.12];
  }
  .text-h3 {
    @apply text-xl sm:text-2xl md:text-3xl font-semibold leading-tight;
  }
  .text-h4 {
    @apply text-lg sm:text-xl md:text-2xl font-semibold leading-snug;
  }

  .text-bodylg {
    @apply text-base sm:text-lg leading-relaxed;
  }
  .text-body {
    @apply text-sm sm:text-base leading-relaxed;
  }
  .text-caption {
    @apply text-xs sm:text-sm leading-relaxed;
  }
}

.section-title {
  @apply text-h2 text-collin-navy;
}
.section-subtitle {
  @apply mt-2 text-bodylg text-collin-slate;
}

/* ============================
   Cards (premium)
   ============================ */
.card {
  @apply rounded-2xl border border-gray-200/80 bg-white/85 backdrop-blur
         shadow-soft transition-all duration-300;
}

.card:hover {
  @apply border-gray-300/80 shadow-lift;
}

@layer utilities {
  .card-pad {
    @apply p-5 sm:p-6 md:p-8 lg:p-10;
  }
}

/* ============================
   Buttons (unified system)
   ============================ */
.cta-primary {
  @apply inline-flex items-center justify-center gap-2 rounded-xl
         bg-collin-teal text-white font-semibold
         px-6 py-3
         shadow-[0_12px_30px_rgba(0,0,0,0.18)]
         transition duration-200;
}
.cta-primary:hover {
  @apply opacity-95;
}
.cta-primary:active {
  transform: translateY(1px);
}

.cta-secondary {
  @apply inline-flex items-center justify-center gap-2 rounded-xl
         border border-gray-200 bg-white text-collin-navy font-semibold
         px-6 py-3
         hover:bg-collin-teal/5 transition duration-200;
}

@layer utilities {
  .cta-full {
    @apply w-full sm:w-auto;
  }
}

/* Alias for backwards compatibility */
@layer components {
  .ctaConsultation {
    @apply cta-primary;
  }

  .cta-footer {
    @apply inline-flex items-center gap-2 rounded-xl bg-white/10 text-white
           px-4 py-2 text-sm font-medium border border-white/20 hover:bg-white/15 transition;
  }
}

/* ============================
   Consistent Focus Ring (A11y)
   Works on light and dark backgrounds
   ============================ */
:where(a, button, input, textarea, select):focus-visible {
  outline: none;
  box-shadow: 0 0 0 2px rgba(255, 255, 255, 0.65),
    0 0 0 5px rgba(15, 181, 186, 0.55);
}

/* ============================
   HERO BACKGROUND (NAVY BASE)
   ============================ */
.hero-bg {
  background-color: #0a2540;
  background-image: radial-gradient(circle at center, #0d315a 0%, #0a2540 70%);
  background-size: cover;
  background-position: var(--bg-x, 50%) var(--bg-y, 50%);
  background-repeat: no-repeat;
  transition: background-position 0.2s ease-out;
  will-change: background-position;
}

@media (prefers-reduced-motion: reduce) {
  .hero-bg {
    transition: none !important;
  }
}

/* ============================
   Animated Gradient Blobs
   ============================ */
@keyframes gradientMove {
  0% {
    transform: translate(0px, 0px) scale(1);
  }
  50% {
    transform: translate(40px, -40px) scale(1.1);
  }
  100% {
    transform: translate(0px, 0px) scale(1);
  }
}

.animate-gradientMove {
  animation: gradientMove 12s ease-in-out infinite;
  will-change: transform;
}

@media (max-width: 640px) {
  .animate-gradientMove {
    animation-duration: 16s;
  }
}

@media (prefers-reduced-motion: reduce) {
  .animate-gradientMove {
    animation: none !important;
  }
}

/* ============================
   Scroll Offset for Navbar
   ============================ */
section {
  scroll-margin-top: var(--header-offset, 6rem);
}

/* ============================
   Premium Utilities
   ============================ */
.text-gradient {
  @apply bg-clip-text text-transparent bg-gradient-to-r from-collin-teal to-collin-teal-light;
}

.divider {
  @apply w-full h-px bg-gray-200 my-8;
}

/* A11y helpers */
.sr-only {
  position: absolute !important;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

.skip-link {
  position: fixed;
  top: 0.5rem;
  left: 0.5rem;
  z-index: 9999;
  padding: 0.5rem 0.75rem;
  background: #fff;
  color: #0a2540;
  border-radius: 0.75rem;
  transform: translateY(-120%);
  transition: transform 150ms ease;
  box-shadow: 0 8px 24px rgba(2, 12, 27, 0.12);
}

.skip-link:focus {
  transform: translateY(0);
  outline: none;
}

/* ============================
   Generic Animations
   ============================ */
@keyframes slide-up {
  from {
    transform: translateY(20px);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

.animate-slide-up {
  animation: slide-up 0.25s ease-out;
  will-change: transform, opacity;
}

@keyframes bounce {
  0%,
  100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-4px);
  }
}

.animate-bounce {
  animation: bounce 0.6s infinite;
  will-change: transform;
}

.font-condensed {
  font-family: var(--font-roboto-condensed), sans-serif;
}

/* ============================
   How-We-Work animations
   ============================ */
@layer utilities {
  @keyframes hwwSqueezeIn {
    0% {
      opacity: 0;
      transform: translateY(16px) scale(0.975);
    }
    55% {
      opacity: 1;
      transform: translateY(0px) scale(1.03);
    }
    100% {
      opacity: 1;
      transform: translateY(0px) scale(1);
    }
  }

  .animate-hww-squeeze-in {
    animation: hwwSqueezeIn 600ms cubic-bezier(0.2, 0.65, 0.25, 1) forwards;
    will-change: transform, opacity;
  }

  @keyframes fadeIn {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  .animate-fade-in {
    animation: fadeIn 800ms ease-out forwards;
    will-change: opacity;
  }

  @media (prefers-reduced-motion: reduce) {
    .animate-hww-squeeze-in,
    .animate-slide-up,
    .animate-bounce,
    .animate-fade-in {
      animation: none !important;
      opacity: 1 !important;
      transform: none !important;
    }
  }
}

/* ============================
   Print Styles
   ============================ */
@media print {
  .hero-bg,
  .bg-collin-navy-gradient {
    background: #fff !important;
  }
  a {
    text-decoration: underline;
    color: #000 !important;
  }
  .shadow,
  .shadow-sm,
  .shadow-md,
  .shadow-lg,
  .shadow-xl,
  .shadow-2xl {
    box-shadow: none !important;
  }
}